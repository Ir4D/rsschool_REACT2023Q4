(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7925)}])},3114:function(e,a,t){"use strict";t.d(a,{Z:function(){return P}});var n=t(5893),i=t(7294),s=t(9008),r=t.n(s),c=t(1664),l=t.n(c),o=t(1163),m=t(8394),u=t(8797),d=t(1346),p=t.n(d),h=t(595),_=t.n(h),g=()=>{let[e,a]=(0,i.useState)(""),[t,s]=(0,i.useState)(!0),[r,c]=(0,i.useState)(!1),{setTerm:l,itemsPerPage:m,setItemsPerPage:d,currentPage:h,updateData:g,updatePage:x}=(0,u.D)(),f=(0,o.useRouter)(),P=e=>{localStorage.setItem("searchInput",e)},j=()=>{let e=localStorage.getItem("searchInput");e&&a(()=>e)};(0,i.useEffect)(()=>{j()},[]),(0,i.useEffect)(()=>{s(1===h),c(2128===h)},[h]);let v=f.pathname.includes("/details");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:p().searchPanel,children:[(0,n.jsx)("input",{type:"text",className:p().searchInput,placeholder:"Type here",value:e,onChange:e=>{a(()=>e.target.value)}}),(0,n.jsx)("button",{type:"submit",className:p().searchBtn,onClick:()=>{P(e),f.push("?search=".concat(e,"&page=1&itemsPerPage=").concat(m)),g(e),l(e)},disabled:v,children:"Search"})]}),(0,n.jsxs)("div",{className:_().paginationPanel,children:[(0,n.jsx)("button",{type:"button",className:"".concat(_().btn," ").concat(_().prevBtn),onClick:()=>{let a=h-1;x(a),f.push("?search=".concat(e,"&page=").concat(a,"&itemsPerPage=").concat(m))},disabled:t||v,children:"Prev"}),(0,n.jsx)("div",{className:_().currentPage,children:h}),(0,n.jsx)("button",{type:"button",className:"".concat(_().btn," ").concat(_().nextBtn),onClick:()=>{let a=h+1;x(a),f.push("?search=".concat(e,"&page=").concat(a,"&itemsPerPage=").concat(m))},disabled:r||v,children:"Next"})]}),(0,n.jsxs)("div",{className:_().itemsPerPage,children:[(0,n.jsx)("span",{children:"Items per page: "}),(0,n.jsxs)("select",{value:m,onChange:a=>{let t=parseInt(a.target.value);d(t),x(1),f.push("?search=".concat(e,"&page=1&itemsPerPage=").concat(t))},disabled:v,children:[(0,n.jsx)("option",{value:"12",children:"12"}),(0,n.jsx)("option",{value:"6",children:"6"})]})]})]})},x=t(9898),f=t.n(x),P=e=>{let{cards:a}=e,{loading:t,setLoading:s,term:c,itemsPerPage:d,currentPage:p}=(0,u.D)(),h=(0,o.useRouter)();(0,i.useEffect)(()=>{let e=()=>{s(!0)},a=()=>{s(!1)};return h.events.on("routeChangeStart",e),h.events.on("routeChangeComplete",a),()=>{h.events.off("routeChangeStart",e),h.events.off("routeChangeComplete",a)}},[h.events]);let _=-1===h.pathname.indexOf("/details");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r(),{children:(0,n.jsx)("title",{children:"Anime List"})}),(0,n.jsx)("main",{id:"main",children:(0,n.jsx)("div",{className:f().appWrapper,children:(0,n.jsxs)("div",{id:"appMain",className:"".concat(f().appMain," ").concat(_?"active":"unactive"),onClick:()=>{if(h.pathname.includes("/details"))return h.push("/?search=".concat(c,"&itemsPerPage=").concat(d,"&page=").concat(p)),null},children:[(0,n.jsx)(g,{}),(0,n.jsxs)("div",{children:[t&&(0,n.jsx)(m.Z,{}),!t&&(0,n.jsx)("ul",{className:f().animeList,children:a&&0!==a.length?a.map(e=>(0,n.jsx)(l(),{href:"details/".concat(e.mal_id,"?term=").concat(c,"&itemsPerPage=").concat(d,"&page=").concat(p),children:(0,n.jsxs)("li",{className:f().animeItem,children:[(0,n.jsx)("img",{src:e.images?e.images.jpg.image_url:"",alt:"Anime",className:f().animeImg}),(0,n.jsxs)("div",{className:f().animeDescription,children:[(0,n.jsx)("h3",{className:f().animeTitle,children:e.title}),(0,n.jsxs)("p",{className:f().animeYear,children:["Year: ",e.year?e.year:"Unknown"]})]})]},e.mal_id)},e.mal_id)):(0,n.jsx)("p",{children:"No anime were found"})})]})]})})})]})}},8394:function(e,a,t){"use strict";var n=t(5893);a.Z=()=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"rgb(36, 36, 36)",display:"block",shapeRendering:"auto",animationPlayState:"running",animationDelay:"0s"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid","data-testid":"spinner",children:Array(12).fill(null).map((e,a)=>{let t=30*a;return(0,n.jsx)("g",{transform:"rotate(".concat(t," 50 50)"),style:{animationPlayState:"running",animationDelay:"0s"},children:(0,n.jsx)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#ffffff",style:{animationPlayState:"running",animationDelay:"0s"},children:(0,n.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"".concat(-a/12,"s"),repeatCount:"indefinite",style:{animationPlayState:"running",animationDelay:"0s"}})})},a)})})},7925:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSP:function(){return s}});var n=t(5893),i=t(3114),s=!0;a.default=e=>{let{cards:a}=e;return(0,n.jsx)(i.Z,{cards:a})}},9898:function(e){e.exports={animeList:"CardsList_animeList__EbR_u",animeItem:"CardsList_animeItem__SEMWf",animeImg:"CardsList_animeImg___k9ZR",animeDescription:"CardsList_animeDescription__hlp_B",animeInfo:"CardsList_animeInfo__ertDj",animeTitle:"CardsList_animeTitle__W4Kii",itemDetails:"CardsList_itemDetails__Cr2uF",detalsPage:"CardsList_detalsPage__pwlFi",itemDetailsBtn:"CardsList_itemDetailsBtn__GEVVp",appWrapper:"CardsList_appWrapper__tx34g",appHeading:"CardsList_appHeading__lerWv"}},595:function(e){e.exports={paginationPanel:"PaginationPanel_paginationPanel__Nel_C",currentPage:"PaginationPanel_currentPage__G1anw"}},1346:function(e){e.exports={searchPanel:"SearchPanel_searchPanel__nupgC",searchInput:"SearchPanel_searchInput__tITBx",searchBtn:"SearchPanel_searchBtn__hxibK"}}},function(e){e.O(0,[814,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);