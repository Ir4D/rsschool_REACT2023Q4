(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[585],{3717:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/details/[id]",function(){return n(6553)}])},3114:function(e,a,n){"use strict";n.d(a,{Z:function(){return j}});var t=n(5893),s=n(7294),i=n(9008),c=n.n(i),r=n(1664),l=n.n(r),o=n(1163),m=n(8394),d=n(8797),u=n(1346),h=n.n(u),p=n(595),g=n.n(p),_=()=>{let[e,a]=(0,s.useState)(""),[n,i]=(0,s.useState)(!0),[c,r]=(0,s.useState)(!1),{setTerm:l,itemsPerPage:m,setItemsPerPage:u,currentPage:p,updateData:_,updatePage:x}=(0,d.D)(),f=(0,o.useRouter)(),j=e=>{localStorage.setItem("searchInput",e)},v=()=>{let e=localStorage.getItem("searchInput");e&&a(()=>e)};(0,s.useEffect)(()=>{v()},[]),(0,s.useEffect)(()=>{i(1===p),r(2128===p)},[p]);let P=f.pathname.includes("/details");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:h().searchPanel,children:[(0,t.jsx)("input",{type:"text",className:h().searchInput,placeholder:"Type here",value:e,onChange:e=>{a(()=>e.target.value)}}),(0,t.jsx)("button",{type:"submit",className:h().searchBtn,onClick:()=>{j(e),f.push("?search=".concat(e,"&page=1&itemsPerPage=").concat(m)),_(e),l(e)},disabled:P,children:"Search"})]}),(0,t.jsxs)("div",{className:g().paginationPanel,children:[(0,t.jsx)("button",{type:"button",className:"".concat(g().btn," ").concat(g().prevBtn),onClick:()=>{let a=p-1;x(a),f.push("?search=".concat(e,"&page=").concat(a,"&itemsPerPage=").concat(m))},disabled:n||P,children:"Prev"}),(0,t.jsx)("div",{className:g().currentPage,children:p}),(0,t.jsx)("button",{type:"button",className:"".concat(g().btn," ").concat(g().nextBtn),onClick:()=>{let a=p+1;x(a),f.push("?search=".concat(e,"&page=").concat(a,"&itemsPerPage=").concat(m))},disabled:c||P,children:"Next"})]}),(0,t.jsxs)("div",{className:g().itemsPerPage,children:[(0,t.jsx)("span",{children:"Items per page: "}),(0,t.jsxs)("select",{value:m,onChange:a=>{let n=parseInt(a.target.value);u(n),x(1),f.push("?search=".concat(e,"&page=1&itemsPerPage=").concat(n))},disabled:P,children:[(0,t.jsx)("option",{value:"12",children:"12"}),(0,t.jsx)("option",{value:"6",children:"6"})]})]})]})},x=n(9898),f=n.n(x),j=e=>{let{cards:a}=e,{loading:n,setLoading:i,term:r,itemsPerPage:u,currentPage:h}=(0,d.D)(),p=(0,o.useRouter)();(0,s.useEffect)(()=>{let e=()=>{i(!0)},a=()=>{i(!1)};return p.events.on("routeChangeStart",e),p.events.on("routeChangeComplete",a),()=>{p.events.off("routeChangeStart",e),p.events.off("routeChangeComplete",a)}},[p.events]);let g=-1===p.pathname.indexOf("/details");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c(),{children:(0,t.jsx)("title",{children:"Anime List"})}),(0,t.jsx)("main",{id:"main",children:(0,t.jsx)("div",{className:f().appWrapper,children:(0,t.jsxs)("div",{id:"appMain",className:"".concat(f().appMain," ").concat(g?"active":"unactive"),onClick:()=>{if(p.pathname.includes("/details"))return p.push("/?search=".concat(r,"&itemsPerPage=").concat(u,"&page=").concat(h)),null},children:[(0,t.jsx)(_,{}),(0,t.jsxs)("div",{children:[n&&(0,t.jsx)(m.Z,{}),!n&&(0,t.jsx)("ul",{className:f().animeList,children:a&&0!==a.length?a.map(e=>(0,t.jsx)(l(),{href:"details/".concat(e.mal_id,"?term=").concat(r,"&itemsPerPage=").concat(u,"&page=").concat(h),children:(0,t.jsxs)("li",{className:f().animeItem,children:[(0,t.jsx)("img",{src:e.images?e.images.jpg.image_url:"",alt:"Anime",className:f().animeImg}),(0,t.jsxs)("div",{className:f().animeDescription,children:[(0,t.jsx)("h3",{className:f().animeTitle,children:e.title}),(0,t.jsxs)("p",{className:f().animeYear,children:["Year: ",e.year?e.year:"Unknown"]})]})]},e.mal_id)},e.mal_id)):(0,t.jsx)("p",{children:"No anime were found"})})]})]})})})]})}},8394:function(e,a,n){"use strict";var t=n(5893);a.Z=()=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"rgb(36, 36, 36)",display:"block",shapeRendering:"auto",animationPlayState:"running",animationDelay:"0s"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid","data-testid":"spinner",children:Array(12).fill(null).map((e,a)=>{let n=30*a;return(0,t.jsx)("g",{transform:"rotate(".concat(n," 50 50)"),style:{animationPlayState:"running",animationDelay:"0s"},children:(0,t.jsx)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#ffffff",style:{animationPlayState:"running",animationDelay:"0s"},children:(0,t.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"".concat(-a/12,"s"),repeatCount:"indefinite",style:{animationPlayState:"running",animationDelay:"0s"}})})},a)})})},6553:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSP:function(){return g},default:function(){return _}});var t=n(5893),s=n(1664),i=n.n(s),c=n(7294),r=n(8797),l=n(9898),o=n.n(l),m=n(1163),d=n.n(m),u=n(8394),h=e=>{var a;let{cardDetails:n}=e,{loading:s,setLoading:l,term:m,itemsPerPage:h,currentPage:p}=(0,r.D)();if((0,c.useEffect)(()=>{let e=()=>{l(!0)},a=()=>{l(!1)};return d().events.on("routeChangeStart",e),d().events.on("routeChangeComplete",a),()=>{d().events.off("routeChangeStart",e),d().events.off("routeChangeComplete",a)}},[d().events]),!n)return(0,t.jsx)("h3",{children:"No details found"});let{title:g,title_japanese:_,year:x,type:f,images:j,score:v,rating:P}=n||{},N=null==j?void 0:null===(a=j.jpg)||void 0===a?void 0:a.image_url;return(0,t.jsxs)(t.Fragment,{children:[s&&(0,t.jsx)(u.Z,{}),!s&&(0,t.jsx)("div",{className:o().itemDetails,children:(0,t.jsxs)("div",{children:[N&&(0,t.jsx)("img",{src:N,alt:"Anime",className:o().animeImg}),(0,t.jsxs)("div",{className:o().animeDescription,children:[(0,t.jsx)("p",{className:"".concat(o().animeInfo," ").concat(o().animeTitle),children:g}),(0,t.jsx)("p",{className:"".concat(o().animeInfo," ").concat(o().animeTitle),children:_}),(0,t.jsxs)("p",{className:"".concat(o().animeInfo," ").concat(o().animeYear),children:["Year: ",x]}),(0,t.jsxs)("p",{className:"".concat(o().animeInfo," ").concat(o().animeType),children:["Type: ",f]}),(0,t.jsxs)("p",{className:"".concat(o().animeInfo," ").concat(o().animeScore),children:["Score: ",v]}),(0,t.jsxs)("p",{className:"".concat(o().animeInfo," ").concat(o().animeRating),children:["Rating: ",P]})]}),(0,t.jsx)(i(),{href:"/?search=".concat(m,"&itemsPerPage=").concat(h,"&page=").concat(p),children:(0,t.jsx)("button",{className:o().itemDetailsBtn,children:"Close"})})]})})]})},p=n(3114),g=!0,_=e=>{let{cardDetails:a,cards:n}=e;return(0,t.jsxs)("div",{className:o().detalsPage,children:[(0,t.jsx)(p.Z,{cards:n}),(0,t.jsx)(h,{cardDetails:a})]})}},9898:function(e){e.exports={animeList:"CardsList_animeList__EbR_u",animeItem:"CardsList_animeItem__SEMWf",animeImg:"CardsList_animeImg___k9ZR",animeDescription:"CardsList_animeDescription__hlp_B",animeInfo:"CardsList_animeInfo__ertDj",animeTitle:"CardsList_animeTitle__W4Kii",itemDetails:"CardsList_itemDetails__Cr2uF",detalsPage:"CardsList_detalsPage__pwlFi",itemDetailsBtn:"CardsList_itemDetailsBtn__GEVVp",appWrapper:"CardsList_appWrapper__tx34g",appHeading:"CardsList_appHeading__lerWv"}},595:function(e){e.exports={paginationPanel:"PaginationPanel_paginationPanel__Nel_C",currentPage:"PaginationPanel_currentPage__G1anw"}},1346:function(e){e.exports={searchPanel:"SearchPanel_searchPanel__nupgC",searchInput:"SearchPanel_searchInput__tITBx",searchBtn:"SearchPanel_searchBtn__hxibK"}}},function(e){e.O(0,[814,774,888,179],function(){return e(e.s=3717)}),_N_E=e.O()}]);