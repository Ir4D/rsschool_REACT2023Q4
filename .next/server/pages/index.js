(()=>{var e={};e.id=405,e.ids=[405,888,660],e.modules={4105:e=>{e.exports={animeList:"CardsList_animeList__EbR_u",animeItem:"CardsList_animeItem__SEMWf",animeImg:"CardsList_animeImg___k9ZR",animeDescription:"CardsList_animeDescription__hlp_B",animeInfo:"CardsList_animeInfo__ertDj",animeTitle:"CardsList_animeTitle__W4Kii",itemDetails:"CardsList_itemDetails__Cr2uF",detalsPage:"CardsList_detalsPage__pwlFi",itemDetailsBtn:"CardsList_itemDetailsBtn__GEVVp",appWrapper:"CardsList_appWrapper__tx34g",appHeading:"CardsList_appHeading__lerWv"}},8993:e=>{e.exports={paginationPanel:"PaginationPanel_paginationPanel__Nel_C",currentPage:"PaginationPanel_currentPage__G1anw"}},3700:e=>{e.exports={searchPanel:"SearchPanel_searchPanel__nupgC",searchInput:"SearchPanel_searchInput__tITBx",searchBtn:"SearchPanel_searchBtn__hxibK"}},6786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{config:()=>_,default:()=>m,getServerSideProps:()=>x,getStaticPaths:()=>g,getStaticProps:()=>h,reportWebVitals:()=>P,routeModule:()=>y,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>v});var s={};a.r(s),a.d(s,{default:()=>o,getServerSideProps:()=>p});var r=a(7093),i=a(5244),n=a(1323),l=a(5211),c=a(4807),u=a(997),d=a(1102);let p=async e=>{let t=e.query.search||"",a=e.query.itemsPerPage||"12",s=e.query.page||"1",r=await fetch(`https://api.jikan.moe/v4/anime?q=${t}&limit=${a}&page=${s}`),i=await r.json();return{props:{cards:i.data}}},o=({cards:e})=>u.jsx(d.Z,{cards:e}),m=(0,n.l)(s,"default"),h=(0,n.l)(s,"getStaticProps"),g=(0,n.l)(s,"getStaticPaths"),x=(0,n.l)(s,"getServerSideProps"),_=(0,n.l)(s,"config"),P=(0,n.l)(s,"reportWebVitals"),v=(0,n.l)(s,"unstable_getStaticProps"),j=(0,n.l)(s,"unstable_getStaticPaths"),S=(0,n.l)(s,"unstable_getStaticParams"),f=(0,n.l)(s,"unstable_getServerProps"),b=(0,n.l)(s,"unstable_getServerSideProps"),y=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:c.default,Document:l.default},userland:s})},1102:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v});var s=a(997),r=a(6689);let i=require("next/head");var n=a.n(i),l=a(1664),c=a.n(l),u=a(1163),d=a(8394),p=a(8797),o=a(3700),m=a.n(o),h=a(8993),g=a.n(h);let x=()=>{let[e,t]=(0,r.useState)(""),[a,i]=(0,r.useState)(!0),[n,l]=(0,r.useState)(!1),{setTerm:c,itemsPerPage:d,setItemsPerPage:o,currentPage:h,updateData:x,updatePage:_}=(0,p.D)(),P=(0,u.useRouter)(),v=e=>{localStorage.setItem("searchInput",e)},j=()=>{let e=localStorage.getItem("searchInput");e&&t(()=>e)};(0,r.useEffect)(()=>{j()},[]),(0,r.useEffect)(()=>{i(1===h),l(2128===h)},[h]);let S=P.pathname.includes("/details");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:m().searchPanel,children:[s.jsx("input",{type:"text",className:m().searchInput,placeholder:"Type here",value:e,onChange:e=>{t(()=>e.target.value)}}),s.jsx("button",{type:"submit",className:m().searchBtn,onClick:()=>{v(e),P.push(`?search=${e}&page=1&itemsPerPage=${d}`),x(e),c(e)},disabled:S,children:"Search"})]}),(0,s.jsxs)("div",{className:g().paginationPanel,children:[s.jsx("button",{type:"button",className:`${g().btn} ${g().prevBtn}`,onClick:()=>{let t=h-1;_(t),P.push(`?search=${e}&page=${t}&itemsPerPage=${d}`)},disabled:a||S,children:"Prev"}),s.jsx("div",{className:g().currentPage,children:h}),s.jsx("button",{type:"button",className:`${g().btn} ${g().nextBtn}`,onClick:()=>{let t=h+1;_(t),P.push(`?search=${e}&page=${t}&itemsPerPage=${d}`)},disabled:n||S,children:"Next"})]}),(0,s.jsxs)("div",{className:g().itemsPerPage,children:[s.jsx("span",{children:"Items per page: "}),(0,s.jsxs)("select",{value:d,onChange:t=>{let a=parseInt(t.target.value);o(a),_(1),P.push(`?search=${e}&page=1&itemsPerPage=${a}`)},disabled:S,children:[s.jsx("option",{value:"12",children:"12"}),s.jsx("option",{value:"6",children:"6"})]})]})]})};var _=a(4105),P=a.n(_);let v=({cards:e})=>{let{loading:t,setLoading:a,term:i,itemsPerPage:l,currentPage:o}=(0,p.D)(),m=(0,u.useRouter)();(0,r.useEffect)(()=>{let e=()=>{a(!0)},t=()=>{a(!1)};return m.events.on("routeChangeStart",e),m.events.on("routeChangeComplete",t),()=>{m.events.off("routeChangeStart",e),m.events.off("routeChangeComplete",t)}},[m.events]);let h=-1===m.pathname.indexOf("/details");return(0,s.jsxs)(s.Fragment,{children:[s.jsx(n(),{children:s.jsx("title",{children:"Anime List"})}),s.jsx("main",{id:"main",children:s.jsx("div",{className:P().appWrapper,children:(0,s.jsxs)("div",{id:"appMain",className:`${P().appMain} ${h?"active":"unactive"}`,onClick:()=>{if(m.pathname.includes("/details"))return m.push(`/?search=${i}&itemsPerPage=${l}&page=${o}`),null},children:[s.jsx(x,{}),(0,s.jsxs)("div",{children:[t&&s.jsx(d.Z,{}),!t&&s.jsx("ul",{className:P().animeList,children:e&&0!==e.length?e.map(e=>s.jsx(c(),{href:`details/${e.mal_id}?term=${i}&itemsPerPage=${l}&page=${o}`,children:(0,s.jsxs)("li",{className:P().animeItem,children:[s.jsx("img",{src:e.images?e.images.jpg.image_url:"",alt:"Anime",className:P().animeImg}),(0,s.jsxs)("div",{className:P().animeDescription,children:[s.jsx("h3",{className:P().animeTitle,children:e.title}),(0,s.jsxs)("p",{className:P().animeYear,children:["Year: ",e.year?e.year:"Unknown"]})]})]},e.mal_id)},e.mal_id)):s.jsx("p",{children:"No anime were found"})})]})]})})})]})}},8797:(e,t,a)=>{"use strict";a.d(t,{D:()=>l,i:()=>n});var s=a(997),r=a(6689);let i=(0,r.createContext)(void 0),n=({children:e})=>{let[t,a]=(0,r.useState)(""),[n,l]=(0,r.useState)(12),[c,u]=(0,r.useState)(1),[d,p]=(0,r.useState)(!1);return s.jsx(i.Provider,{value:{term:t,setTerm:a,itemsPerPage:n,setItemsPerPage:l,currentPage:c,setCurrentPage:u,updateData:e=>{a(e)},updatePage:e=>{u(e)},loading:d,setLoading:p},children:e})},l=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("Some error");return e}},8394:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(997);let r=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"rgb(36, 36, 36)",display:"block",shapeRendering:"auto",animationPlayState:"running",animationDelay:"0s"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid","data-testid":"spinner",children:Array(12).fill(null).map((e,t)=>{let a=30*t,r=`${-t/12}s`;return s.jsx("g",{transform:`rotate(${a} 50 50)`,style:{animationPlayState:"running",animationDelay:"0s"},children:s.jsx("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#ffffff",style:{animationPlayState:"running",animationDelay:"0s"},children:s.jsx("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:r,repeatCount:"indefinite",style:{animationPlayState:"running",animationDelay:"0s"}})})},t)})})},4807:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(997);a(108);var r=a(8797);let i=({Component:e,pageProps:t})=>s.jsx(r.i,{children:s.jsx(e,{...t})})},5211:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Document});var s=a(997),r=a(6859);function Document(){return(0,s.jsxs)(r.Html,{lang:"en",children:[s.jsx(r.Head,{}),(0,s.jsxs)("body",{children:[s.jsx(r.Main,{}),s.jsx(r.NextScript,{})]})]})}},108:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[859,910],()=>a(6786));module.exports=s})();