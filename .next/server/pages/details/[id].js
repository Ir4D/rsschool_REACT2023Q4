(()=>{var e={};e.id=585,e.ids=[585,888,660],e.modules={4105:e=>{e.exports={animeList:"CardsList_animeList__EbR_u",animeItem:"CardsList_animeItem__SEMWf",animeImg:"CardsList_animeImg___k9ZR",animeDescription:"CardsList_animeDescription__hlp_B",animeInfo:"CardsList_animeInfo__ertDj",animeTitle:"CardsList_animeTitle__W4Kii",itemDetails:"CardsList_itemDetails__Cr2uF",detalsPage:"CardsList_detalsPage__pwlFi",itemDetailsBtn:"CardsList_itemDetailsBtn__GEVVp",appWrapper:"CardsList_appWrapper__tx34g",appHeading:"CardsList_appHeading__lerWv"}},8993:e=>{e.exports={paginationPanel:"PaginationPanel_paginationPanel__Nel_C",currentPage:"PaginationPanel_currentPage__G1anw"}},3700:e=>{e.exports={searchPanel:"SearchPanel_searchPanel__nupgC",searchInput:"SearchPanel_searchInput__tITBx",searchBtn:"SearchPanel_searchBtn__hxibK"}},3743:(e,t,a)=>{"use strict";a.r(t),a.d(t,{config:()=>y,default:()=>$,getServerSideProps:()=>N,getStaticPaths:()=>b,getStaticProps:()=>C,reportWebVitals:()=>I,routeModule:()=>B,unstable_getServerProps:()=>L,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>k,unstable_getStaticPaths:()=>w,unstable_getStaticProps:()=>D});var s={};a.r(s),a.d(s,{default:()=>S,getServerSideProps:()=>f});var i=a(7093),r=a(5244),n=a(1323),l=a(5211),c=a(4807),d=a(997),m=a(1664),o=a.n(m),u=a(6689),p=a(8797),h=a(4105),g=a.n(h),x=a(1163),j=a.n(x),_=a(8394);let v=({cardDetails:e})=>{let{loading:t,setLoading:a,term:s,itemsPerPage:i,currentPage:r}=(0,p.D)();if((0,u.useEffect)(()=>{let e=()=>{a(!0)},t=()=>{a(!1)};return j().events.on("routeChangeStart",e),j().events.on("routeChangeComplete",t),()=>{j().events.off("routeChangeStart",e),j().events.off("routeChangeComplete",t)}},[j().events]),!e)return d.jsx("h3",{children:"No details found"});let{title:n,title_japanese:l,year:c,type:m,images:h,score:x,rating:v}=e||{},P=h?.jpg?.image_url;return(0,d.jsxs)(d.Fragment,{children:[t&&d.jsx(_.Z,{}),!t&&d.jsx("div",{className:g().itemDetails,children:(0,d.jsxs)("div",{children:[P&&d.jsx("img",{src:P,alt:"Anime",className:g().animeImg}),(0,d.jsxs)("div",{className:g().animeDescription,children:[d.jsx("p",{className:`${g().animeInfo} ${g().animeTitle}`,children:n}),d.jsx("p",{className:`${g().animeInfo} ${g().animeTitle}`,children:l}),(0,d.jsxs)("p",{className:`${g().animeInfo} ${g().animeYear}`,children:["Year: ",c]}),(0,d.jsxs)("p",{className:`${g().animeInfo} ${g().animeType}`,children:["Type: ",m]}),(0,d.jsxs)("p",{className:`${g().animeInfo} ${g().animeScore}`,children:["Score: ",x]}),(0,d.jsxs)("p",{className:`${g().animeInfo} ${g().animeRating}`,children:["Rating: ",v]})]}),d.jsx(o(),{href:`/?search=${s}&itemsPerPage=${i}&page=${r}`,children:d.jsx("button",{className:g().itemDetailsBtn,children:"Close"})})]})})]})};var P=a(1102);let f=async e=>{let t=e.params?.id,{term:a,itemsPerPage:s,page:i}=e.query,r=await fetch(`https://api.jikan.moe/v4/anime/${t}`),n=await r.json(),l=await fetch(`https://api.jikan.moe/v4/anime?q=${a}&limit=${s}&page=${i}`),c=await l.json();return c&&n&&!n.error?{props:{cardDetails:n.data,cards:c.data}}:{notFound:!0}},S=({cardDetails:e,cards:t})=>(0,d.jsxs)("div",{className:g().detalsPage,children:[d.jsx(P.Z,{cards:t}),d.jsx(v,{cardDetails:e})]}),$=(0,n.l)(s,"default"),C=(0,n.l)(s,"getStaticProps"),b=(0,n.l)(s,"getStaticPaths"),N=(0,n.l)(s,"getServerSideProps"),y=(0,n.l)(s,"config"),I=(0,n.l)(s,"reportWebVitals"),D=(0,n.l)(s,"unstable_getStaticProps"),w=(0,n.l)(s,"unstable_getStaticPaths"),k=(0,n.l)(s,"unstable_getStaticParams"),L=(0,n.l)(s,"unstable_getServerProps"),q=(0,n.l)(s,"unstable_getServerSideProps"),B=new i.PagesRouteModule({definition:{kind:r.x.PAGES,page:"/details/[id]",pathname:"/details/[id]",bundlePath:"",filename:""},components:{App:c.default,Document:l.default},userland:s})},1102:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v});var s=a(997),i=a(6689);let r=require("next/head");var n=a.n(r),l=a(1664),c=a.n(l),d=a(1163),m=a(8394),o=a(8797),u=a(3700),p=a.n(u),h=a(8993),g=a.n(h);let x=()=>{let[e,t]=(0,i.useState)(""),[a,r]=(0,i.useState)(!0),[n,l]=(0,i.useState)(!1),{setTerm:c,itemsPerPage:m,setItemsPerPage:u,currentPage:h,updateData:x,updatePage:j}=(0,o.D)(),_=(0,d.useRouter)(),v=e=>{localStorage.setItem("searchInput",e)},P=()=>{let e=localStorage.getItem("searchInput");e&&t(()=>e)};(0,i.useEffect)(()=>{P()},[]),(0,i.useEffect)(()=>{r(1===h),l(2128===h)},[h]);let f=_.pathname.includes("/details");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:p().searchPanel,children:[s.jsx("input",{type:"text",className:p().searchInput,placeholder:"Type here",value:e,onChange:e=>{t(()=>e.target.value)}}),s.jsx("button",{type:"submit",className:p().searchBtn,onClick:()=>{v(e),_.push(`?search=${e}&page=1&itemsPerPage=${m}`),x(e),c(e)},disabled:f,children:"Search"})]}),(0,s.jsxs)("div",{className:g().paginationPanel,children:[s.jsx("button",{type:"button",className:`${g().btn} ${g().prevBtn}`,onClick:()=>{let t=h-1;j(t),_.push(`?search=${e}&page=${t}&itemsPerPage=${m}`)},disabled:a||f,children:"Prev"}),s.jsx("div",{className:g().currentPage,children:h}),s.jsx("button",{type:"button",className:`${g().btn} ${g().nextBtn}`,onClick:()=>{let t=h+1;j(t),_.push(`?search=${e}&page=${t}&itemsPerPage=${m}`)},disabled:n||f,children:"Next"})]}),(0,s.jsxs)("div",{className:g().itemsPerPage,children:[s.jsx("span",{children:"Items per page: "}),(0,s.jsxs)("select",{value:m,onChange:t=>{let a=parseInt(t.target.value);u(a),j(1),_.push(`?search=${e}&page=1&itemsPerPage=${a}`)},disabled:f,children:[s.jsx("option",{value:"12",children:"12"}),s.jsx("option",{value:"6",children:"6"})]})]})]})};var j=a(4105),_=a.n(j);let v=({cards:e})=>{let{loading:t,setLoading:a,term:r,itemsPerPage:l,currentPage:u}=(0,o.D)(),p=(0,d.useRouter)();(0,i.useEffect)(()=>{let e=()=>{a(!0)},t=()=>{a(!1)};return p.events.on("routeChangeStart",e),p.events.on("routeChangeComplete",t),()=>{p.events.off("routeChangeStart",e),p.events.off("routeChangeComplete",t)}},[p.events]);let h=-1===p.pathname.indexOf("/details");return(0,s.jsxs)(s.Fragment,{children:[s.jsx(n(),{children:s.jsx("title",{children:"Anime List"})}),s.jsx("main",{id:"main",children:s.jsx("div",{className:_().appWrapper,children:(0,s.jsxs)("div",{id:"appMain",className:`${_().appMain} ${h?"active":"unactive"}`,onClick:()=>{if(p.pathname.includes("/details"))return p.push(`/?search=${r}&itemsPerPage=${l}&page=${u}`),null},children:[s.jsx(x,{}),(0,s.jsxs)("div",{children:[t&&s.jsx(m.Z,{}),!t&&s.jsx("ul",{className:_().animeList,children:e&&0!==e.length?e.map(e=>s.jsx(c(),{href:`details/${e.mal_id}?term=${r}&itemsPerPage=${l}&page=${u}`,children:(0,s.jsxs)("li",{className:_().animeItem,children:[s.jsx("img",{src:e.images?e.images.jpg.image_url:"",alt:"Anime",className:_().animeImg}),(0,s.jsxs)("div",{className:_().animeDescription,children:[s.jsx("h3",{className:_().animeTitle,children:e.title}),(0,s.jsxs)("p",{className:_().animeYear,children:["Year: ",e.year?e.year:"Unknown"]})]})]},e.mal_id)},e.mal_id)):s.jsx("p",{children:"No anime were found"})})]})]})})})]})}},8797:(e,t,a)=>{"use strict";a.d(t,{D:()=>l,i:()=>n});var s=a(997),i=a(6689);let r=(0,i.createContext)(void 0),n=({children:e})=>{let[t,a]=(0,i.useState)(""),[n,l]=(0,i.useState)(12),[c,d]=(0,i.useState)(1),[m,o]=(0,i.useState)(!1);return s.jsx(r.Provider,{value:{term:t,setTerm:a,itemsPerPage:n,setItemsPerPage:l,currentPage:c,setCurrentPage:d,updateData:e=>{a(e)},updatePage:e=>{d(e)},loading:m,setLoading:o},children:e})},l=()=>{let e=(0,i.useContext)(r);if(!e)throw Error("Some error");return e}},8394:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(997);let i=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"rgb(36, 36, 36)",display:"block",shapeRendering:"auto",animationPlayState:"running",animationDelay:"0s"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid","data-testid":"spinner",children:Array(12).fill(null).map((e,t)=>{let a=30*t,i=`${-t/12}s`;return s.jsx("g",{transform:`rotate(${a} 50 50)`,style:{animationPlayState:"running",animationDelay:"0s"},children:s.jsx("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#ffffff",style:{animationPlayState:"running",animationDelay:"0s"},children:s.jsx("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:i,repeatCount:"indefinite",style:{animationPlayState:"running",animationDelay:"0s"}})})},t)})})},4807:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(997);a(108);var i=a(8797);let r=({Component:e,pageProps:t})=>s.jsx(i.i,{children:s.jsx(e,{...t})})},5211:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Document});var s=a(997),i=a(6859);function Document(){return(0,s.jsxs)(i.Html,{lang:"en",children:[s.jsx(i.Head,{}),(0,s.jsxs)("body",{children:[s.jsx(i.Main,{}),s.jsx(i.NextScript,{})]})]})}},108:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[859,910],()=>a(3743));module.exports=s})();